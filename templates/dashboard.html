{% extends "base.html" %}

{% block content %}
<!-- //page content begin -->
<div class="page-wrapper">
	<div class="container-xl">
		<!-- Page title -->
		<div class="page-header d-print-none">
			<div class="row g-2 align-items-center">
				<div class="col">
					<!-- Page pre-title -->
					<div class="page-pretitle">
						Dashboard
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="page-body">
		<div class="container-xl">
			<div class="row row-deck row-cards">

				<div class="col-lg-12">
					<div class="card">
						<div class="card-body">
							<h3 class="card-title"><span class="badge bg-green">Node:1</span></h3>
							<div class="row row-deck row-cards">
								<div class="col-lg-2">
									<div class="card">
										<div class="card-body">
											<div class="d-flex align-items-center">
												<div class="subheader">CPU</div>
											</div>
											<div class="d-flex align-items-baseline">
												<div class="h2">{{ cpu*100 }}%</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-info" role="progressbar" style="width: {{ cpu*100 }}%"></div>
											</div>
										</div>
									</div>
								</div>
				
								<div class="col-lg-2">
									<div class="card">
										<div class="card-body">
											<div class="d-flex align-items-center">
												<div class="subheader">CPU: Memory Used</div>
											</div>
											<div class="d-flex align-items-baseline">
												<div class="h2">{{ cpu_mem }}%</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-info" role="progressbar" style="width: {{ cpu_mem }}%"></div>
											</div>
										</div>
									</div>
								</div>

                {%for i in range(0, num_gpus)%}
				
								<div class="col-lg-2">
									<div class="card">
										<div class="card-body">
											<div class="d-flex align-items-center">
												<div class="subheader">GPU{{ i+1 }}</div>
											</div>
											<div class="d-flex align-items-baseline">
												<div class="h2">{{ gpus[i][0]*100 }}%</div>												
											</div>
											<div class="progress">
												<div class="progress-bar bg-info" role="progressbar" style="width: {{ gpus[i][0]*100 }}%"></div>
											</div>
										</div>
									</div>
								</div>

								<div class="col-lg-2">
									<div class="card">
										<div class="card-body">
											<div class="d-flex align-items-center">
												<div class="subheader">GPU{{ i+1 }}: Memory Used</div>
											</div>
											<div class="d-flex align-items-baseline">
												<div class="h2">{{ gpus[i][1] }}%</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-info" role="progressbar" style="width: {{ gpus[i][1] }}%"></div>
											</div>											
										</div>
									</div>
								</div>

                {%endfor%}


							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>
<!-- //page content end -->

{% endblock %}
